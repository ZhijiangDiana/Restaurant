<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>社区交流</title>
    <!-- 引入 Element UI 样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/vue@2.6.14/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <style>
        .el-menu--inline .el-menu-item {
            background-color: #244235  !important;
        }

        .el-menu-item:hover,
        .el-submenu__title:hover {
            color: #fff !important;
        }

        .el-submenu__title:hover i {
            color: #fff !important;
        }

        .el-aside{
            transition: width.3s;
            box-shadow: 2px 0 6px rgba(0,21,41,35);
        }
        .logo_title{
            margin-left: 5px;
            font-size: 20px;
            transition: all .3s;
        }
        .el-header{
            box-shadow: 2px 0 6px rgba(0,21,41,35);
            display: flex;
            align-items: center;
        }
        .el-header-buttons .el-button {
            display: flex;
            background-color: beige;
            color:black;
        }
        .el-form-buttons .el-button{
            background-color: beige;/* 按钮之间的右边距 */
            color:black;
        }
        .el-main-buttons .el-button{
            background-color: beige;
            color:black;
            margin-left: 50px;
        }
        #card_message1 {
            /*background-color: #244235 ;*/
            color: #fff; /* 文本颜色为白色 */
            margin: 20px; /* 添加一些边距，使内容离边框有一定距离 */
            min-height: 100vh;

        }

        .el-card{
            /*background-color: #244235 ; !* 与 el-menu 的背景色相同 *!*/
            margin-left: 20px;
            margin-right: 20px;
        }
        .el-main-reply-buttons {

            display: flex;
            gap: 2px; /* 调整按钮之间的间隔 */
        }
        .el-main-reply-buttons .el-button{
            background-color: beige;/* 按钮之间的右边距 */
            color:black;
        }
    </style>
</head>

<body>
<div id="app">
    <div >
        <el-container>
            <el-aside  :width="asideWidth" style="min-height: 100vh;background-color:#244235 "  >
                <div style="height: 60px;color: white;display: flex;align-items: center;justify-content: center">

                    <span class="logo_title" v-show="!isCollapse">USST</span>
                </div>
                <el-menu :collapse="isCollapse"  background-color="#244235" text-color="rgba(255,255,255,0.65)">
                    <el-menu-item>
                        <i class="el-icon-house"></i>
                        <span slot="title">系统首页</span>
                    </el-menu-item>
                    <el-menu-item>
                        <i class="el-icon-postcard"></i>
                        <span slot="title">交流社区</span>
                    </el-menu-item>
                    <el-submenu>
                        <template slot="title">
                            <i class="el-icon-menu"></i>
                            <span>信息管理</span>
                        </template>
                        <el-menu-item>
                            用户信息
                        </el-menu-item>
                        <el-menu-item >
                            管理员信息
                        </el-menu-item>
                    </el-submenu>
                </el-menu>
            </el-aside>
            <el-container>

                <el-header style="background-color: #244235">
                    <i :class="collapseIcon" style="font-size:26px;color: beige" @click="handleCollapse"></i>
                    <div style="margin-left: 100px">
                        <el-input style="width: 500px" v-model="value" placeholder="请输入内容" prefix-icon="el-icon-search"></el-input>
                    </div>
                    <div class="el-header-buttons" style="display: flex;justify-content: end;margin-left: 200px">
                        <el-button type="primary" @click="sortByHotness">热门</el-button>
                        <el-button type="primary" @click="sortByAscending">正序</el-button>
                        <el-button type="primary" @click="sortByDescending">倒序</el-button>
                    </div>
                </el-header>
                <el-main>
                    <el-card id="card_message1">
                    <div style="margin-bottom: 30px">
<!--                        <div>-->
<!--                            <span style="color: black">发表人</span>-->
<!--                            <span style="color: black">Title</span>-->
<!--                            <span style="color: black;margin-left: 700px">发表时间:YY-mm-dd HH:mm:ss</span>-->
<!--                            <el-button > 查看详情</el-button>-->
<!--                        </div>-->

<!--                        <div style="display: flex">-->
<!--                            <div style="width: 200px;height: 200px;margin-top: 10px;">-->

<!--                                <el-image-->
<!--                                        style="width: 100%;height: 100%"-->
<!--                                        src="image/hotpot.png"-->
<!--                                        alt="帖子图片"-->
<!--                                ></el-image>-->

<!--                            </div>-->
<!--                            <div style="margin-left: 700px;margin-top: 100px">-->
<!--                                <el-button type="primary" icon="el-icon-thumb" style="color:black;background-color: beige"></el-button>-->
<!--                                <span style="color: white">99</span>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <el-table :data="comment" style="width: 100%">-->
<!--                            <el-table-column label="标题" prop="title"></el-table-column>-->
<!--                            <el-table-column label="发表人" prop="sender"></el-table-column>-->
<!--                            <el-table-column label="发表时间" prop="sendTime"></el-table-column>-->
<!--                            <el-table-column label="点赞">-->
<!--                                <el-button type="primary" icon="el-icon-thumb" style="color:black;background-color: beige"></el-button>-->

<!--                            </el-table-column>-->
<!--                            <el-table-column label="详情" >-->
<!--                                <el-button type="primary" @click="checkDetail">详情</el-button>-->
<!--                            </el-table-column>-->
<!--                        </el-table>-->
                        <div>
                            <!-- 表格 -->
                            <el-table :data="tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)" style="width: 100%">
                                <el-table-column prop="title" label="标题" width="180">
                                </el-table-column>
                                <el-table-column prop="sender" label="发表人" width="180">
                                </el-table-column>
                                <el-table-column prop="sendTime" label="发表时间">
                                </el-table-column>
                                <el-table-column label="详情">
                                    <template slot-scope="scope">
                                        <el-button @click="checkDetail(scope.row)" type="primary" plain size="small">详情</el-button>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <!-- 分页器 -->
                            <div class="block" style="margin-top:15px;">
                                <el-pagination align='center' @size-change="handleSizeChange" @current-change="handleCurrentChange"
                                               :current-page="currentPage"
                                               :page-sizes="[3,6,9]"
                                               :page-size="pageSize"
                                               layout="total, sizes, prev, pager, next, jumper"
                                               :total="tableData.length">
                                </el-pagination>
                            </div>
                        </div>
                     <el-dialog :visible.sync="dialogVisible1" size="large" title="帖子详情">
                             <el-card id="card_message1" style="margin-top: 0px">
                                 <div>
                                     <h2 style="color:black ">{{currentRow.title}}</h2>
                                     <div>
                                         <span>{{currentRow.sender}}</span>
                                     </div>
                                     <div style="width: 200px;height: 200px">
                                         <img :src="currentRow.img" alt="Image" style="width: 100%;height: 100%">
                                     </div>
                                     <p>帖子内容</p>
                                 </div>
                                 <!-- 其他帖子内容，可以根据需要添加 -->
                                 <el-form style="margin-top: 20px;">
                                     <el-form-item label="评论内容">
                                         <el-input type="textarea" v-model="commentContent" placeholder="请输入评论内容"></el-input>
                                     </el-form-item>
                                     <el-form-item class="el-form-buttons">
                                         <el-button type="primary" @click="submitComment">发表评论</el-button>
                                         <el-button type="primary" icon="el-icon-thumb">点赞</el-button>
                                     </el-form-item>
                                 </el-form>
                             </el-card>
                             <el-card id="reply">
                                 <div style="display: flex">
                                         <h3 style="color: black">全部回复</h3>
                                     <div class="el-main-reply-buttons" style="display: flex;justify-content: end;margin-left: 120px">
                                         <el-button type="primary" @click="sortByAscending">正序</el-button>
                                         <el-button type="primary" @click="sortByDescending">倒序</el-button>
                                     </div>
                                 </div>
                             </el-card>
                             <el-card style="margin-left: 20px; margin-right: 20px;">
                                 <div>
                                     <div style="display: flex">
                                         <div>
                                             <p style="color: white">用户名lv12</p>
                                         </div>
                                         <div class="el-main-reply-buttons" style="margin-left: 1000px">
                                             <el-button type="primary" icon="el-icon-thumb"></el-button>
                                         </div>
                                     </div>
                                     <div>
                                         <p style="color: white">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                                         <p style="color: white">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                                         <p style="color: white">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                                         <p style="color: white">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                                         <p style="color: white">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                                         <p style="color: white">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                                     </div>
                                     <div>
                                         <span style="color: white">8小时前</span>
                                     </div>
                                     <div>
                                         <div class="message-list" id="messageList" style="max-height:300px">
                                             <div>
                                                 <p>Message 1</p>
                                                 <p>Message 2</p>
                                                 <p>Message 3</p>
                                                 <p>Message 4</p>
                                                 <p>Message 5</p>

                                             </div>

                                         </div>

                                     </div>

                                 </div>
                             </el-card>

                     </el-dialog>

                    </div>
                    </el-card>
                </el-main>
            </el-container>
        </el-container>

    </div>
</div>

<script>
    new Vue({
        el: '#app',
        data(){
            return{
                isCollapse:false,
                asideWidth:'200px',
                collapseIcon:'el-icon-s-fold',
                value:'',
                comment:[
                    {title:'adad',
                        sender:'a',
                        sendTime:'xxx',
                    }
                ],
                tableData: [
                    {
                        title: "开摆开摆",
                        sender: "CJ",
                        sendTime: "2016-05-02",
                        img:"image/hotpot.png"
                    },
                    {
                        title: "开摆开摆",
                        sender: "CJ",
                        sendTime: "2016-05-02",
                        img:"image/hotpot.png"
                    },
                    {
                        title: "开摆开摆",
                        sender: "CJ",
                        sendTime: "2016-05-02",
                        img:"image/hotpot.png"
                    },
                    {
                        title: "开摆开摆",
                        sender: "CJ",
                        sendTime: "2016-05-02",
                        img:"image/hotpot.png"
                    },
                    {
                        title: "开摆开摆",
                        sender: "CJ",
                        sendTime: "2016-05-02",
                        img:"image/hotpot.png"
                    },



                ],
                currentPage: 1, // 当前页码
                total: '', // 总条数
                pageSize: 3,// 每页的数据条数
                dialogVisible1:false,
                currentRow:{
                    title: "",
                    sender: "",
                    sendTime: "",
                    img:""
                }
            }
        },
        mounted() {


        },
        computed: {
            // 计算分页后的数据
            pagedData() {
                const start = (this.currentPage - 1) * 3;
                const end = start + 3;
                return this.jsonData.slice(start, end);
            },
        },
        watch: {
            // 监听原始数据的变化，当数据变化时，将当前页重置为 1
            jsonData: function () {
                this.currentPage = 1;
            },
        },
        methods:{
            handleCollapse(){
                this.isCollapse=!this.isCollapse
                this.asideWidth=this.isCollapse ? '64px':'200px'
                this.collapseIcon=this.isCollapse ? 'el-icon-s-unfold':'el-icon-s-fold'
            },
            checkDetail(row){
                this.dialogVisible1= 'true';
                this.currentRow=Object.assign({},row);
                const  index=this.tableData.indexOf(row);
            },
            //每页条数改变时触发 选择一页显示多少行
            handleSizeChange(val) {
                console.log(`每页 ${val} 条`);
                this.currentPage = 1;
                this.pageSize = val;
            },
            //当前页改变时触发 跳转其他页
            handleCurrentChange(val) {
                console.log(`当前页: ${val}`);
                this.currentPage = val;
            }
        }

    })
</script>
</body>
</html>